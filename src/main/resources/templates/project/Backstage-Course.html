<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit">

    <title>后台主题--课程管理</title>

    <meta name="keywords" content="H+后台主题,后台bootstrap框架,会员中心主题,后台HTML,响应式后台">
    <meta name="description" content="H+是一个完全响应式，基于Bootstrap3最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术">

    <!--[if lt IE 9]>
    <meta http-equiv="refresh" content="0;ie.html"/>
    <![endif]-->
    <link rel="shortcut icon" href="favicon.ico">
    <link href="/static/css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="/static/css/font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="/static/css/animate.css" rel="stylesheet">

    <link href="/static/css/font-awesome.min.css?v=4.4.0" rel="stylesheet">
    <link href="/static/css.css" rel="stylesheet"/>
    <link href="/static/css/style.css?v=4.1.0" rel="stylesheet">
    <link href="/static/css/css_psw/toPage1.css" rel="stylesheet" />

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="http://how2j.cn/study/vue.min.js"></script>
    <script type="text/javascript" src="/static/js/js_psw/toPage.js"></script>

    <script type="text/javascript" src="/static/js/js_psw/toPage.js"></script>

    <script type="text/javascript">
        var isCheckAll=true;
        function allcheck(){

            //先得到所有的checkbox

            var ck=document.getElementsByName("ArticleCheckbox");//得到一组checkbox  相当于数组
            if(isCheckAll){
                //循环这一组checkbox让每一个checkbox选中
                for(var i=0;i<ck.length;i++){
                    var c=ck[i];//得到一个checkbox
                    c.checked=true;//true代表选中
                }
                isCheckAll=false;
            }
            else{
                for(var i=0;i<ck.length;i++){
                    var c=ck[i];//得到一个checkbox
                    c.checked=false;//false代表未选中
                }
                isCheckAll=true;
            }
        }

        function allcheckdelete(){
            var count = 0;
            var checkids=",";
            //先得到所有的checkbox
            var ck=document.getElementsByName("ArticleCheckbox");//得到一组checkbox  相当于数组

            for(var i=0;i<ck.length;i++){
                var c=ck[i];//得到一个checkbox
                if(c.checked){
                    count++;
                    checkids =  c.value+ "," +checkids ;
                     console.log(c.value);
                }

            }
            window.location.href="/backresource/deleteMore?ids="+checkids;
        }

        function readytoshowimg(obj){
            var dizhi ="/static/img/a1.jpg";
            $("#courseimg").attr("src",obj);
            // alert(obj);
        }
        function readytoshowintro(obj){
            // var dizhi ="/static/img/a1.jpg";
            $("#courseintro").val(obj);
             // alert(obj);
        }
        // 将数据传给删除一个div -----  1
        function readytodeleteId(obj){
            $("#deleteHaulId").val(obj);
            console.log(obj)
        }
        //再将数据取出来  ------2
        function deleteId(){
            // alert("你即将删除的大修ID" + $("#deleteHaulId").val())
            window.location.href="/backresource/deleteOne?id="+$("#deleteHaulId").val();
        }
        function searchByConditions() {
            var conditionsState;
            var conditionsValues;

            conditionsState =$("#select1  option:selected").val();
            conditionsValues=$("#conditionInput").val();
            // alert(conditionsState+","+conditionsValues);

         window.location.href=
             "/backresource/searchCondition?conditions="+conditionsState+"&values="+conditionsValues;

        }
        function searchConditionsClear() {
            window.location.href="/backresource/searchConditionClear";

        }
        function  toResource() {
            window.location.href="/backorignal/searchConditionClear";
        }
        function  toOrignal() {
            window.location.href="/backresource/searchConditionClear";
        }

    </script>

    <style type="text/css">
        .nofind{
            text-align: center;
            font-size: 20px;

        }
        textarea {
            font-family: "微软雅黑";
            font-size: 15px;
            /* 	color: seagreen; */
            color: purple;

            resize: none;
        }

        .course_hidden {

            width: 50px; /*必须设置宽度*/
            overflow: hidden; /*溢出隐藏*/
            text-overflow: ellipsis; /*以省略号...显示*/
            white-space: nowrap; /*强制不换行*/
            border: 0px;
            outline: none;
        }

        .DelButton {

            font-size: 20px;
            margin: 40px;
            color: blue;
            outline: 1;

        }

        .CancelButton {
            font-size: 16px;
            margin: 40px;
            color: green;
            padding-bottom: 0px;

        }

        button:focus {
            outline: 0;
        }

        /* table 的颜色 */
        button {
            border: 0;
            background: aliceblue;
        }

        th {
            text-align: center;
        }

        td {
            text-align: center;
        }
    </style>

</head>

<body class="fixed-sidebar full-height-layout gray-bg" style="overflow:hidden">
<div id="wrapper">
    <!--左侧导航开始-->
    <nav class="navbar-default navbar-static-side" role="navigation">
        <div class="nav-close">
            <i class="fa fa-times-circle"></i>
        </div>
        <div class="sidebar-collapse">
            <ul class="nav" id="side-menu">
                <li class="nav-header">
                    <div class="dropdown profile-element">
							<span>
								<img alt="image" class="img-circle" src="img/profile_small.jpg"/>
							</span>
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
								<span class="clear">
									<span class="block m-t-xs">
										<strong class="font-bold">Beaut-zihan</strong>
									</span>
									<span class="text-muted text-xs block">超级管理员
										<b class="caret"></b>
									</span>
								</span>
                        </a>
                        <ul class="dropdown-menu animated fadeInRight m-t-xs">
                            <li>
                                <a class="J_menuItem" href="form_avatar.html">修改头像</a>
                            </li>
                            <li>
                                <a class="J_menuItem" href="profile.html">个人资料</a>
                            </li>
                            <li>
                                <a class="J_menuItem" href="contacts.html">联系我们</a>
                            </li>
                            <li>
                                <a class="J_menuItem" href="mailbox.html">信箱</a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="login.html">安全退出</a>
                            </li>
                        </ul>
                    </div>
                    <div class="logo-element">H+
                    </div>
                </li>
                <li>
                    <a href="#">
                        <i class="fa fa-home"></i>
                        <span class="nav-label">主页</span>
                        <span class="fa arrow"></span>
                    </a>
                    <ul class="nav nav-second-level">
                        <li>
                            <a onclick="toResource()" class="J_menuItem" href="javascript:void(0);"  data-index="0">课程</a>
                        </li>
                        <li>
                            <a onclick="toOrignal()" class="J_menuItem" href="javascript:void(0);" >原创中心</a>
                        </li>

                    </ul>

                </li>

            </ul>
        </div>
    </nav>
    <!--左侧导航结束-->
    <!--右侧部分开始-->
    <div id="page-wrapper" class="gray-bg dashbard-1">
        <div class="row border-bottom">
            <nav class="navbar navbar-static-top" role="navigation" style="margin-bottom: 0">
                <div class="navbar-header">
                    <a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="#">
                        <i class="fa fa-bars"></i>
                    </a>
                    <form role="search" class="navbar-form-custom" method="post" action="search_results.html">
                        <div class="form-group">
                            <input type="text" placeholder="请输入您需要查找的内容 …" class="form-control" name="top-search"
                                   id="top-search">
                        </div>
                    </form>
                </div>
                <ul class="nav navbar-top-links navbar-right">
                    <li class="dropdown">
                        <a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
                            <i class="fa fa-envelope"></i>
                            <span class="label label-warning">16</span>
                        </a>
                        <ul class="dropdown-menu dropdown-messages">
                            <li class="m-t-xs">
                                <div class="dropdown-messages-box">
                                    <a href="profile.html" class="pull-left">
                                        <img alt="image" class="img-circle" src="img/a7.jpg">
                                    </a>
                                    <div class="media-body">

                                    </div>
                                </div>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <div class="dropdown-messages-box">
                                    <a href="profile.html" class="pull-left">
                                        <img alt="image" class="img-circle" src="img/a4.jpg">
                                    </a>
                                    <div class="media-body ">

                                    </div></div>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <div class="text-center link-block">
                                    <a class="J_menuItem" href="mailbox.html">
                                        <i class="fa fa-envelope"></i>
                                        <strong> 查看所有消息</strong>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle count-info" data-toggle="dropdown" href="#">
                            <i class="fa fa-bell"></i>
                            <span class="label label-primary">8</span>
                        </a>
                        <ul class="dropdown-menu dropdown-alerts">
                            <li>
                                <a href="mailbox.html">
                                    <div>

                                    </div>
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <a href="profile.html">
                                    <div>

                                    </div>
                                </a>
                            </li>
                            <li class="divider"></li>
                            <li>
                                <div class="text-center link-block">
                                    <a class="J_menuItem" href="notifications.html">
                                        <strong>查看所有 </strong>
                                        <i class="fa fa-angle-right"></i>
                                    </a>
                                </div>
                            </li>
                        </ul>
                    </li>
                    <li class="hidden-xs">
                        <a href="index_v1.html" class="J_menuItem" data-index="0">
                            <i class="fa fa-cart-arrow-down"></i> 购买</a>
                    </li>
                    <li class="dropdown hidden-xs">
                        <a class="right-sidebar-toggle" aria-expanded="false">
                            <i class="fa fa-tasks"></i> 主题
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="row content-tabs">
            <button class="roll-nav roll-left J_tabLeft">
                <i class="fa fa-backward"></i>
            </button>
            <nav class="page-tabs J_menuTabs">
                <div class="page-tabs-content">
                    <a href="javascript:;" class="active J_menuTab" data-id="index_v1.html">首页</a>
                </div>
            </nav>
            <button class="roll-nav roll-right J_tabRight">
                <i class="fa fa-forward"></i>
            </button>
            <div class="btn-group roll-nav roll-right">
                <button class="dropdown J_tabClose" data-toggle="dropdown">关闭操作
                    <span class="caret"></span>

                </button>
                <ul role="menu" class="dropdown-menu dropdown-menu-right">
                    <li class="J_tabShowActive">
                        <a>定位当前选项卡</a>
                    </li>
                    <li class="divider"></li>
                    <li class="J_tabCloseAll">
                        <a>关闭全部选项卡</a>
                    </li>
                    <li class="J_tabCloseOther">
                        <a>关闭其他选项卡</a>
                    </li>
                </ul>
            </div>
            <a href="login.html" class="roll-nav roll-right J_tabExit">
                <i class="fa fa fa-sign-out"></i> 退出</a>
        </div>
        <div class="row J_mainContent" id="content-main">
            <h2>课程</h2>
            <div>

                <select id="select1" style="width: 150px; height: 25px;" onchange="selectOnchang(this)">
                    <option value="res_id">课程iD</option>
                    <option value="res_name">课程名称</option>
                    <option value="res_tag">讲堂标签(仅支持单标签)</option>
                    <option value="res_intro">讲堂介绍</option>
                    <option value="res_uploadtime">上传时间(不支持时间段)</option>
                </select>

                <input id="conditionInput" style="width: 150px; height: 25px;" /> 查询

                <a class="btn btn-success icon-glyphicon-search time-search
					 service-glyphicon-search" href="javascript:void(0);"
                   onclick="searchByConditions()">
                    <i class="glyphicon glyphicon-search"></i>
                </a>

                <a class="btn btn-success icon-glyphicon-search time-search
					 service-glyphicon-search" href="javascript:void(0);" style="margin-bottom:10px;margin-left:650px;"
                   onclick="searchConditionsClear()">
                    <i class="glyphicon glyphicon-search"></i>
                    <span>清空条件</span>
                </a>
                </div>
            <div  id="table1">
            <table class="table table-hover table-condensed">
                <tr>
                    <th><input type="checkbox" id="ArticleCheckboxAll" onclick="allcheck()" value="??"/>全选</th>
                    <th>课程iD</th>
                    <th>课程名称</th>
                    <th>课程标题</th>
                    <th>简介</th>
                    <th>时间</th>
                    <th>课程封面</th>
                    <th>讲堂标签</th>
                    <th>操作</th>
                </tr>

                <tr v-for="item in resource" >
                    <td><input  :value=item.resId type="checkbox" name="ArticleCheckbox" /></td>
                    <td><div>{{item.resId}}</div></td>
                    <td><div>{{item.resName}}</div></td>
                    <td><div>{{item.resName}}</div></td>
                    <td><div>
                    <span><button   @click="readytoshowintro(item.resIntro)"
                                    type="button" data-toggle="modal" data-target="#introModa">
                        <i class="glyphicon glyphicon-eye-open"></i>   &nbsp;&nbsp;查看</button> </span>
                    </div></td>
                    <td><div>{{item.resUploadtime}}</div></td>
                    <td><div>
                    <span><button   @click="readytoshowimg(item.resImg)"
                                    type="button" data-toggle="modal" data-target="#imgModa">
                        <i class="glyphicon glyphicon-eye-open"></i>   &nbsp;&nbsp;查看</button> </span>
                    </div></td>
                    <td><div>{{item.resTag}}</div></td>
                    <td><span><button   @click="readytodeleteId(item.resId)"
                    type="button" data-toggle="modal" data-target="#CourseDelete">
						<i class="glyphicon glyphicon-trash"></i>
                        &nbsp;&nbsp;删除</button> </span>
                    </td>
                </tr>
            </table>

                <div v-if="totals"></div>
                <div class="nofind" v-else>没有符合条件的项目哦，请重新查看</div>
            </div>
            <span><button class="btn btn-w-m btn-primary" data-toggle="modal" data-target="#CourseDeleteMore">
					<i class="glyphicon glyphicon-trash"></i>&nbsp;&nbsp;批量删除
					</button></span>
            <span>

        <!--<button type="button" class="btn btn-w-m btn-primary" data-toggle="modal" data-target="#myModal">-->
        							<!--<i class="glyphicon glyphicon-plus"></i>&nbsp;&nbsp;增加课程 -->
        			<!--</button></span>-->


            <!--分页-->
            <div class="FenYe">
                <div class="page_1"></div>
            </div>


        </div>
        <script type="text/javascript">
            new Vue({
                el: '#table1',
                data:{
                    resource :"",
                    totals : 0,
                },
                mounted: function () {
                    var self=this;
                    $.ajax({
                        type: "POST",
                        url: "/backresource/BackResourcePage",
                        dataType: "json",
                        success: function (result) {
                            self.resource = result.list;
                            self.totals =result.total;
                            var obj_1={
                                obj_box:'.page_1',//翻页容器
                                total_item:result.total,   //条目总数
                                per_num:result.pageSize,     //每页条目数*/
                                current_page:result.pageNum   //当前页
                            };
                            page_ctrl(obj_1);
                            $(' .page_ctrl').on('click','button',function () {
                                var that=$(this);
                                if(that.hasClass('prev_page')){
                                    window.location.href="/backresource/searchCondition?start="+result.prePage;
                                }
                                else if(that.hasClass('next_page')){
                                    window.location.href="/backresource/searchCondition?start="+result.nextPage;
                                }
                                else if(that.hasClass('page_num')&&!that.hasClass('current_page')){
                                    window.location.href="/backresource/searchCondition?start="+that.html();
                                }
                                else if(that.hasClass('to_page_num')){
                                    window.location.href="/backresource/searchCondition?start="+that.siblings('.input_page_num').val();
                                }
                            });

                        }

                    })
                }
            })


        </script>

        <!-- 弹出图片的弹窗 -->
        <div class="modal inmoda1" id="imgModa" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="col-sm-4" style="position: relative;left:40%;top:10%;">
                <div class="ibox float-e-margins" style="display: table-cell; vertical-align: middle; text-align: center;">
                    <div class="ibox-title">
                        <h5>封面</h5>
                        <button data-dismiss="modal" class="close" type="button">
                            <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                        </button>
                    </div>

                    <div class="ibox-content"
                         style="display: table-cell; vertical-align: middle; text-align: center;">
                        <img id="courseimg"  />
                        <!--<img id="courseimg" src="/static/img/a1.jpg"/>-->
                    </div>

                </div>

            </div>
        </div>
        <!--弹出删除狂  -->
        <div class="modal fade" id="CourseDelete" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" style="position: relative;left:10%;top:25%;">
                <div class="modal-content" style="width: 300px;">
                    <div class="modal-header">
                        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title">删除提示</h4>
                    </div>
                    <div class="modal-body" >
                        <input type="hidden" id="deleteHaulId" />
                        <p>您正在进行删除操作！</p>
                    </div>
                    <div class="modal-footer">
                        <button data-dismiss="modal" onclick="allcheck()" class="btn btn-default" type="button">取消</button>
                        <button data-dismiss="modal" onclick="deleteId()" class="btn btn-primary" id="btn123" type="button">删除</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div>
        <!--弹出简介详情  -->
        <div class="modal inmoda1" id="introModa" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="col-sm-4" style="position: relative;left:40%;top:10%;">
                <div class="ibox float-e-margins" style="display: table-cell; vertical-align: middle; text-align: center;">
                    <div class="ibox-title">
                        <h5>简介</h5>
                        <button data-dismiss="modal" class="close" type="button">
                            <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                        </button>

                    </div>

                    <div class="ibox-content">
		<textarea id="courseintro" rows="20" cols="50">
		</textarea>

                    </div>

                </div>

            </div>
        </div>
        <!--弹出批量删除框  -->
        <div class="modal fade" id="CourseDeleteMore" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" style="position: relative;left:10%;top:25%;">
                <div class="modal-content" style="width: 300px;">
                    <div class="modal-header">
                        <button data-dismiss="modal" class="close" type="button"><span aria-hidden="true">×</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title">删除提示</h4>
                    </div>
                    <div class="modal-body" >
                        <p>您正在进行批量删除操作！</p>
                    </div>
                    <div class="modal-footer">
                        <button data-dismiss="modal" class="btn btn-default" type="button">取消</button>
                        <button class="btn btn-primary" onclick="allcheckdelete()" type="button">删除</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div>
        <!-- 增加按钮的弹窗 -->
        <div class="modal inmodal" id="myModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="col-sm-4" style="position: relative;left:30%;top:10%;">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>增加课程</h5>
                        <button data-dismiss="modal" class="close" type="button">
                            <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                        </button>

                    </div>
                    <div class="ibox-content">
                        <form class="form-horizontal m-t" id="signupForm">
                            <div class="form-group">
                                <label class="col-sm-3 control-label">课程名称：</label>
                                <div class="col-sm-8">
                                    <input name="jobName" class="form-control" type="text" placeholder="">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">课程标签：</label>
                                <div class="col-sm-8">
                                    <input name="jobTag" class="form-control" type="text" placeholder="">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">课程简介：</label>
                                <div class="col-sm-8">
                                    <textarea rows="7" cols="30"></textarea>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-3 control-label">上传的封面：</label>
                                <div class="col-sm-8">
                                    <input type="file"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-3 control-label">上传的视频：</label>
                                <div class="col-sm-8">
                                    <input type="file"/>
                                </div>
                            </div>


                            <div class="form-group">
                                <div class="col-sm-8 col-sm-offset-3">
                                    <button class="btn btn-primary" type="submit">提交</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>







    </div>
</div>

<!-- 全局js -->
<script src="/static/js/jquery.min.js?v=2.1.4"></script>
<script src="/static/js/bootstrap.min.js?v=3.3.6"></script>
<script src="/static/js/plugins/metisMenu/jquery.metisMenu.js"></script>
<script src="/static/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>
<script src="/static/js/plugins/layer/layer.min.js"></script>

<!-- 自定义js -->
<script src="/static/js/hplus.js?v=4.1.0"></script>
<script type="text/javascript" src="/static/js/contabs.js"></script>

<!-- 第三方插件 -->
<script src="/static/js/plugins/pace/pace.min.js"></script>
<script src="/static/js/jquery.min.js?v=2.1.4"></script>


<!-- 自定义js -->
<script src="js/content.js?v=1.0.0"></script>


<!-- Bootstrap table -->
<script src="js/plugins/bootstrap-table/bootstrap-table.min.js"></script>
<script src="js/plugins/bootstrap-table/bootstrap-table-mobile.min.js"></script>
<script src="js/plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>

<!-- Peity -->
<script src="js/demo/bootstrap-table-demo.js"></script>

<script type="text/javascript" src="http://tajs.qq.com/stats?sId=9051096" charset="UTF-8"></script>

</body>

</html>
